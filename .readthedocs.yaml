version: "2"

build:
  os: "ubuntu-22.04"
  tools:
    python: "3.10"

  # Specify build.commands, then none of the pre-defined build jobs will be executed
  commands:
    - pip install --no-deps --extra-index-url https://testpypi.python.org/pypi imas_data_dictionary
    - mkdir -p $READTHEDOCS_OUTPUT/html
    - cp -av $READTHEDOCS_VIRTUALENV_PATH/dd_*/share/doc/imas $READTHEDOCS_OUTPUT/html

python:
  install:
    - requirements: docs/requirements.txt

sphinx:
  configuration: docs/source/conf.py
